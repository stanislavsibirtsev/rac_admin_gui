# RAC Admin GUI

Графический интерфейс для администрирования кластеров серверов 1С:Предприятие через утилиту RAC (Remote Administrative Client).

## Возможности

- Полное управление кластерами 1С:Предприятие через RAC
- Удобный графический интерфейс с вкладками для каждой команды
- Динамический предпросмотр формируемых команд
- Поддержка переменных для упрощения ввода часто используемых значений
- Управление службой RAS (запуск, остановка, перезапуск)
- Подробное логирование всех операций
- Автоматическая подстановка переменных в команды
- Проверка прав администратора для управления службами

## Требования

- Python 3.8 или выше
- Утилита RAC (входит в поставку 1С:Предприятие)
- Права администратора для управления службами (рекомендуется)

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите приложение:
   ```bash
   python main.py
   ```

## Использование

### Главное окно

Главное окно разделено на две панели:
- Левая панель: кнопки для выбора режимов RAC и панель управления службой RAS
- Правая панель: журнал выполнения команд

### Режимы RAC

Приложение поддерживает все основные режимы RAC:

- **Справка**: Отображение справочной информации
- **Агент кластера**: Управление администраторами агента кластера
- **Кластер серверов**: Администрирование кластеров
- **Менеджер кластера**: Управление менеджерами кластера
- **Рабочий сервер**: Администрирование рабочих серверов
- **Рабочий процесс**: Управление рабочими процессами
- **Сервис менеджера**: Администрирование сервисов менеджера
- **Информационная база**: Управление информационными базами
- **Соединения**: Просмотр и разрыв соединений
- **Сеансы**: Просмотр и завершение сеансов
- **Блокировки**: Просмотр блокировок
- **Требования назначения**: Управление требованиями назначения
- **Профили безопасности**: Настройка профилей безопасности
- **Счетчики ресурсов**: Управление счетчиками потребления ресурсов
- **Ограничения ресурсов**: Настройка ограничений потребления ресурсов

### Переменные

Для упрощения ввода данных можно использовать переменные. Переменные задаются в формате `$(имя_переменной)`. 

Пример:
- Создайте переменную `cluster_uid` со значением `12345678-1234-1234-1234-123456789012`
- В поле параметра команды укажите `--cluster=$(cluster_uid)`

При выполнении команды переменная будет автоматически подставлена.

### Управление службой RAS

Приложение позволяет управлять службой RAS (1C:Enterprise 8.3 Remote Server). Для этого необходимо запустить приложение с правами администратора. В панели управления службой отображается текущий статус службы и есть кнопки для запуска, остановки и перезапуска.

### Логирование

Все выполняемые команды и их вывод сохраняются в файл лога в папке `logs`. Лог также отображается в правой панели главного окна.

## Структура проекта

```
rac_admin_gui/
├── main.py                 # Главный запускаемый файл
├── requirements.txt        # Зависимости Python
├── core/                   # Основные модули
│   ├── rac_commands.py    # Определения всех команд RAC
│   ├── command_executor.py # Исполнитель команд RAC
│   ├── logger.py          # Система логирования
│   ├── service_manager.py # Управление службами Windows
│   └── variable_manager.py # Управление переменными
├── ui/                     # Модули пользовательского интерфейса
│   ├── main_window.py     # Главное окно
│   ├── command_dialogs.py # Диалоги команд RAC
│   ├── variables_dialog.py # Диалог управления переменными
│   └── widgets.py         # Вспомогательные виджеты
└── config/                 # Конфигурационные файлы
    └── variables.json     # Файл хранения переменных
```

## Примечания

- Для управления службами необходимо запускать приложение от имени администратора
- Утилита RAC должна быть доступна в пути (или укажите полный путь в настройках)
- При первом запуске будет создана папка `config` и `logs`

## Лицензия

Проект распространяется по лицензии MIT.

---
